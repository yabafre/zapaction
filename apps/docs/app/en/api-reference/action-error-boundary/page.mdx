# ActionErrorBoundary

React error boundary designed for server action errors.

```tsx
import { ActionErrorBoundary, useActionErrorReset } from "@zapaction/react";
```

## ActionErrorBoundary

### Props

| Prop | Type | Description |
|------|------|-------------|
| `children` | `ReactNode` | Content to render |
| `fallback` | `ReactNode \| ((props: { error: unknown; reset: () => void }) => ReactNode)` | Error UI |
| `onError` | `(error: unknown) => void` | Optional error callback |

### Usage with ReactNode fallback

```tsx
<ActionErrorBoundary fallback={<p>Something went wrong</p>}>
  <MyComponent />
</ActionErrorBoundary>
```

### Usage with render function

```tsx
<ActionErrorBoundary
  fallback={({ error, reset }) => (
    <div>
      <p>Error: {String(error)}</p>
      <button onClick={reset}>Try again</button>
    </div>
  )}
>
  <MyComponent />
</ActionErrorBoundary>
```

### With onError callback

```tsx
<ActionErrorBoundary
  fallback={<p>Error occurred</p>}
  onError={(error) => {
    reportToSentry(error);
  }}
>
  <MyComponent />
</ActionErrorBoundary>
```

## useActionErrorReset

Hook to access error boundary state from within the fallback.

```ts
function useActionErrorReset(): { error: unknown; reset: () => void }
```

Must be used inside an `ActionErrorBoundary` fallback. Throws if used outside.

### Example

```tsx
function ErrorFallback() {
  const { error, reset } = useActionErrorReset();

  return (
    <div>
      <h2>Action failed</h2>
      <pre>{String(error)}</pre>
      <button onClick={reset}>Retry</button>
    </div>
  );
}

// Usage
<ActionErrorBoundary fallback={<ErrorFallback />}>
  <MyComponent />
</ActionErrorBoundary>
```
