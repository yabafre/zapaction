# Logger API

Configurable pipeline logging for `defineAction`.

## configureLogger

```ts
import { configureLogger } from "@zapaction/core";

configureLogger({
  enabled: true,
  level: "debug",
  onLog: (event) => console.log(event),
});
```

### LoggerOptions

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| `enabled` | `boolean` | `false` | Enable/disable logging |
| `level` | `ActionLogLevel` | `"debug"` | Minimum log level |
| `onLog` | `(event: ActionLogEvent) => void` | console | Custom log handler |

## ActionLogEvent

```ts
type ActionLogEvent = {
  timestamp: number;
  actionName: string;
  phase: ActionLogPhase;
  level: ActionLogLevel;
  duration?: number;
  data?: unknown;
};
```

## ActionLogPhase

| Phase | Description |
|-------|-------------|
| `action_start` | Action invoked |
| `context_resolved` | Context factory returned |
| `before_action` | beforeAction hook completed |
| `handler_complete` | Handler returned |
| `after_action` | afterAction hook completed |
| `validation_complete` | Output schema validated |
| `revalidation_complete` | Cache tags revalidated |
| `action_error` | Error thrown at any stage |

## ActionLogLevel

`"debug"` | `"info"` | `"warn"` | `"error"`

Levels filter in order: debug &lt; info &lt; warn &lt; error.

## Action name

Set the `name` option in `defineAction` to identify actions in logs:

```ts
const createUser = defineAction({
  name: "createUser",
  input: z.object({ name: z.string() }),
  handler: async ({ input }) => { ... },
});
```

Actions without `name` appear as `"anonymous"` in log events.

## Zero overhead when disabled

When `enabled: false` (default), the logger is a no-op. No objects are allocated, no functions are called.
