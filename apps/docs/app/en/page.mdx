# Introduction

ZapAction is a typed contract layer for **Next.js Server Actions** and **TanStack Query**.

It gives one shared model for:

- Validating action input/output with `defineAction` + Zod
- Structuring query keys and cache tags
- Invalidating cache across server and client automatically
- Standardizing team patterns: hooks, middleware, error handling

## How it works

```
┌─────────────────────────────────────────────────────────────┐
│  defineAction({ input, output, tags, handler })             │
│  → validates input → runs handler → validates output        │
│  → revalidates server cache tags → triggers client queries  │
└─────────────────────────────────────────────────────────────┘
```

1. **Define** your action contract on the server with `defineAction`
2. **Read** data on the client with `useActionQuery`
3. **Write** data with `useActionMutation` — tags auto-invalidate matching queries
4. **Handle errors** with `ActionErrorBoundary` and `useActionErrorReset`

## 10-line overview

```ts
// Server: define a typed action
export const createTodo = defineAction({
  input: z.object({ title: z.string().min(1) }),
  output: todoSchema,
  tags: ["todos"],
  handler: async ({ input }) => db.todo.create({ data: input }),
});

// Client: mutate and auto-invalidate
const mutation = useActionMutation(createTodo);
await mutation.mutateAsync({ title: "Buy milk" });
// → server cache revalidated, client query refreshed
```

## Documentation path

1. Start with [Quick Start](/en/guide/project-setup) — install + first action in 2 minutes
2. Explore [Client Data Fetching](/en/guide/client-data-fetching) — reads, writes, invalidation
3. Run the [Full CRUD Example](/en/examples/full-crud) — a real Next.js app you can try locally
4. Check the [API Reference](/en/api-reference) for details
